"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _qs = _interopRequireDefault(require("qs"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
/**
 * A Request object containing all the compiled information about this request.
 *
 * @property {string} host the host used for this API call
 * @property {number} port the port for this API call. Standard set to 443.
 * @property {boolean} ssl wether this API call uses SSL
 * @property {string} scheme the scheme inferred from the SSL state
 * @property {string} verb the HTTP method, for example `GET` or `POST`
 * @property {string} path the full path of the API endpoint
 * @property {Object} params the parameters to pass in the query or body
 * @property {string} queryPath the path and query string used for the API call
 * @property {string} bearerToken the authentication token
 * @property {string} clientVersion the version of the Amadeus library
 * @property {string} languageVersion the version of Node used
 * @property {string} appId the custom ID of the application using this library
 * @property {string} appVersion the custom version of the application
 *  using this library
 * @property {Object} headers the request headers
 *
 * @param {Object} options
 */
var Request = /*#__PURE__*/function () {
  function Request(options) {
    _classCallCheck(this, Request);
    this.host = options.host;
    this.port = options.port;
    this.ssl = options.ssl;
    this.scheme = this.ssl ? 'https' : 'http';
    this.verb = options.verb;
    this.path = options.path;
    this.params = options.params;
    this.queryPath = this.fullQueryPath();
    this.bearerToken = options.bearerToken;
    this.clientVersion = options.clientVersion;
    this.languageVersion = options.languageVersion;
    this.appId = options.appId;
    this.appVersion = options.appVersion;
    this.headers = {
      'User-Agent': this.userAgent(),
      'Accept': 'application/json, application/vnd.amadeus+json'
    };
    this.ListHTTPOverride = ['/v2/shopping/flight-offers', '/v1/shopping/seatmaps', '/v1/shopping/availability/flight-availabilities', '/v2/shopping/flight-offers/prediction', '/v1/shopping/flight-offers/pricing', '/v1/shopping/flight-offers/upselling'];
    this.addAuthorizationHeader();
    this.addContentTypeHeader();
    this.addHTTPOverrideHeader();
  }

  // PROTECTED

  /**
   * Compiles the options for the HTTP request.
   *
   * Used by Client.execute when executing this request against the server.
   *
   * @return {Object} an associative array of options to be passed into the
   *  Client.execute function
   * @protected
   */
  return _createClass(Request, [{
    key: "options",
    value: function options() {
      var options = {
        'host': this.host,
        'port': this.port,
        'protocol': "".concat(this.scheme, ":"),
        'path': this.queryPath,
        'method': this.verb,
        'headers': this.headers
      };
      return options;
    }

    /**
     * Creats the body for the API cal, serializing the params if the verb is POST.
     *
     * @return {string} the serialized params
     * @protected
     */
  }, {
    key: "body",
    value: function body() {
      if (this.verb !== 'POST') {
        return '';
      } else {
        if (!this.bearerToken) {
          return _qs["default"].stringify(this.params);
        }
        return this.params;
      }
    }

    // PRIVATE

    /**
     * Build up the custom User Agent
     *
     * @return {string} a user agent in the format "library/version language/version app/version"
     * @private
     */
  }, {
    key: "userAgent",
    value: function userAgent() {
      var userAgent = "amadeus-node/".concat(this.clientVersion, " node/").concat(this.languageVersion);
      if (!this.appId) {
        return userAgent;
      }
      return "".concat(userAgent, " ").concat(this.appId, "/").concat(this.appVersion);
    }

    /**
     * Build the full query path, combining the path with the query params if the
     * verb is 'GET'. For example: '/foo/bar?baz=qux'
     *
     * @return {string} the path and params combined into one string.
     * @private
     */
  }, {
    key: "fullQueryPath",
    value: function fullQueryPath() {
      if (this.verb === 'POST') {
        return this.path;
      } else {
        return "".concat(this.path, "?").concat(_qs["default"].stringify(this.params));
      }
    }

    /**
     * Adds an Authorization header if the BearerToken is present
     *
     * @private
     */
  }, {
    key: "addAuthorizationHeader",
    value: function addAuthorizationHeader() {
      if (!this.bearerToken) {
        return;
      }
      this.headers['Authorization'] = "Bearer ".concat(this.bearerToken);
    }

    /**
     * Adds an Content-Type header if the HTTP method equals POST
     *
     * @private
     */
  }, {
    key: "addContentTypeHeader",
    value: function addContentTypeHeader() {
      if (this.verb === 'POST' && !this.bearerToken) {
        this.headers['Content-Type'] = 'application/x-www-form-urlencoded';
      } else {
        this.headers['Content-Type'] = 'application/vnd.amadeus+json';
      }
      return;
    }

    /**
    * Adds HTTPOverride method if it is required
    *
    *  @private
    */
  }, {
    key: "addHTTPOverrideHeader",
    value: function addHTTPOverrideHeader() {
      if (this.verb === 'POST' && this.ListHTTPOverride.includes(this.path)) {
        this.headers['X-HTTP-Method-Override'] = 'GET';
      }
      return;
    }
  }]);
}();
var _default = exports["default"] = Request;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInQiLCJfdG9QcmltaXRpdmUiLCJyIiwiZSIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlN0cmluZyIsIk51bWJlciIsIlJlcXVlc3QiLCJvcHRpb25zIiwiaG9zdCIsInBvcnQiLCJzc2wiLCJzY2hlbWUiLCJ2ZXJiIiwicGF0aCIsInBhcmFtcyIsInF1ZXJ5UGF0aCIsImZ1bGxRdWVyeVBhdGgiLCJiZWFyZXJUb2tlbiIsImNsaWVudFZlcnNpb24iLCJsYW5ndWFnZVZlcnNpb24iLCJhcHBJZCIsImFwcFZlcnNpb24iLCJoZWFkZXJzIiwidXNlckFnZW50IiwiTGlzdEhUVFBPdmVycmlkZSIsImFkZEF1dGhvcml6YXRpb25IZWFkZXIiLCJhZGRDb250ZW50VHlwZUhlYWRlciIsImFkZEhUVFBPdmVycmlkZUhlYWRlciIsInZhbHVlIiwiY29uY2F0IiwiYm9keSIsInFzIiwic3RyaW5naWZ5IiwiaW5jbHVkZXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FtYWRldXMvY2xpZW50L3JlcXVlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHFzIGZyb20gJ3FzJztcblxuLyoqXG4gKiBBIFJlcXVlc3Qgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBjb21waWxlZCBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIHJlcXVlc3QuXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGhvc3QgdGhlIGhvc3QgdXNlZCBmb3IgdGhpcyBBUEkgY2FsbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBvcnQgdGhlIHBvcnQgZm9yIHRoaXMgQVBJIGNhbGwuIFN0YW5kYXJkIHNldCB0byA0NDMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNzbCB3ZXRoZXIgdGhpcyBBUEkgY2FsbCB1c2VzIFNTTFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNjaGVtZSB0aGUgc2NoZW1lIGluZmVycmVkIGZyb20gdGhlIFNTTCBzdGF0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHZlcmIgdGhlIEhUVFAgbWV0aG9kLCBmb3IgZXhhbXBsZSBgR0VUYCBvciBgUE9TVGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXRoIHRoZSBmdWxsIHBhdGggb2YgdGhlIEFQSSBlbmRwb2ludFxuICogQHByb3BlcnR5IHtPYmplY3R9IHBhcmFtcyB0aGUgcGFyYW1ldGVycyB0byBwYXNzIGluIHRoZSBxdWVyeSBvciBib2R5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gcXVlcnlQYXRoIHRoZSBwYXRoIGFuZCBxdWVyeSBzdHJpbmcgdXNlZCBmb3IgdGhlIEFQSSBjYWxsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmVhcmVyVG9rZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2xpZW50VmVyc2lvbiB0aGUgdmVyc2lvbiBvZiB0aGUgQW1hZGV1cyBsaWJyYXJ5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGFuZ3VhZ2VWZXJzaW9uIHRoZSB2ZXJzaW9uIG9mIE5vZGUgdXNlZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFwcElkIHRoZSBjdXN0b20gSUQgb2YgdGhlIGFwcGxpY2F0aW9uIHVzaW5nIHRoaXMgbGlicmFyeVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFwcFZlcnNpb24gdGhlIGN1c3RvbSB2ZXJzaW9uIG9mIHRoZSBhcHBsaWNhdGlvblxuICogIHVzaW5nIHRoaXMgbGlicmFyeVxuICogQHByb3BlcnR5IHtPYmplY3R9IGhlYWRlcnMgdGhlIHJlcXVlc3QgaGVhZGVyc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmNsYXNzIFJlcXVlc3Qge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5ob3N0ICAgICAgICAgICAgPSBvcHRpb25zLmhvc3Q7XG4gICAgdGhpcy5wb3J0ICAgICAgICAgICAgPSBvcHRpb25zLnBvcnQ7XG4gICAgdGhpcy5zc2wgICAgICAgICAgICAgPSBvcHRpb25zLnNzbDtcbiAgICB0aGlzLnNjaGVtZSAgICAgICAgICA9IHRoaXMuc3NsID8gJ2h0dHBzJyA6ICdodHRwJztcbiAgICB0aGlzLnZlcmIgICAgICAgICAgICA9IG9wdGlvbnMudmVyYjtcbiAgICB0aGlzLnBhdGggICAgICAgICAgICA9IG9wdGlvbnMucGF0aDtcbiAgICB0aGlzLnBhcmFtcyAgICAgICAgICA9IG9wdGlvbnMucGFyYW1zO1xuICAgIHRoaXMucXVlcnlQYXRoICAgICAgID0gdGhpcy5mdWxsUXVlcnlQYXRoKCk7XG4gICAgdGhpcy5iZWFyZXJUb2tlbiAgICAgPSBvcHRpb25zLmJlYXJlclRva2VuO1xuICAgIHRoaXMuY2xpZW50VmVyc2lvbiAgID0gb3B0aW9ucy5jbGllbnRWZXJzaW9uO1xuICAgIHRoaXMubGFuZ3VhZ2VWZXJzaW9uID0gb3B0aW9ucy5sYW5ndWFnZVZlcnNpb247XG4gICAgdGhpcy5hcHBJZCAgICAgICAgICAgPSBvcHRpb25zLmFwcElkO1xuICAgIHRoaXMuYXBwVmVyc2lvbiAgICAgID0gb3B0aW9ucy5hcHBWZXJzaW9uO1xuICAgIHRoaXMuaGVhZGVycyAgICAgICAgID0ge1xuICAgICAgJ1VzZXItQWdlbnQnIDogdGhpcy51c2VyQWdlbnQoKSxcbiAgICAgICdBY2NlcHQnIDogJ2FwcGxpY2F0aW9uL2pzb24sIGFwcGxpY2F0aW9uL3ZuZC5hbWFkZXVzK2pzb24nXG4gICAgfTtcbiAgICB0aGlzLkxpc3RIVFRQT3ZlcnJpZGU9IFtcbiAgICAgICcvdjIvc2hvcHBpbmcvZmxpZ2h0LW9mZmVycycsXG4gICAgICAnL3YxL3Nob3BwaW5nL3NlYXRtYXBzJyxcbiAgICAgICcvdjEvc2hvcHBpbmcvYXZhaWxhYmlsaXR5L2ZsaWdodC1hdmFpbGFiaWxpdGllcycsXG4gICAgICAnL3YyL3Nob3BwaW5nL2ZsaWdodC1vZmZlcnMvcHJlZGljdGlvbicsXG4gICAgICAnL3YxL3Nob3BwaW5nL2ZsaWdodC1vZmZlcnMvcHJpY2luZycsXG4gICAgICAnL3YxL3Nob3BwaW5nL2ZsaWdodC1vZmZlcnMvdXBzZWxsaW5nJ1xuICAgIF07XG4gICAgdGhpcy5hZGRBdXRob3JpemF0aW9uSGVhZGVyKCk7XG4gICAgdGhpcy5hZGRDb250ZW50VHlwZUhlYWRlcigpO1xuICAgIHRoaXMuYWRkSFRUUE92ZXJyaWRlSGVhZGVyKCk7XG4gIH1cblxuICAvLyBQUk9URUNURURcblxuICAvKipcbiAgICogQ29tcGlsZXMgdGhlIG9wdGlvbnMgZm9yIHRoZSBIVFRQIHJlcXVlc3QuXG4gICAqXG4gICAqIFVzZWQgYnkgQ2xpZW50LmV4ZWN1dGUgd2hlbiBleGVjdXRpbmcgdGhpcyByZXF1ZXN0IGFnYWluc3QgdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSBhbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiBvcHRpb25zIHRvIGJlIHBhc3NlZCBpbnRvIHRoZVxuICAgKiAgQ2xpZW50LmV4ZWN1dGUgZnVuY3Rpb25cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgb3B0aW9ucygpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICdob3N0JyA6IHRoaXMuaG9zdCxcbiAgICAgICdwb3J0JyA6IHRoaXMucG9ydCxcbiAgICAgICdwcm90b2NvbCcgOiBgJHt0aGlzLnNjaGVtZX06YCxcbiAgICAgICdwYXRoJyA6IHRoaXMucXVlcnlQYXRoLFxuICAgICAgJ21ldGhvZCcgOiB0aGlzLnZlcmIsXG4gICAgICAnaGVhZGVycycgOiB0aGlzLmhlYWRlcnNcbiAgICB9O1xuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0cyB0aGUgYm9keSBmb3IgdGhlIEFQSSBjYWwsIHNlcmlhbGl6aW5nIHRoZSBwYXJhbXMgaWYgdGhlIHZlcmIgaXMgUE9TVC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgc2VyaWFsaXplZCBwYXJhbXNcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgYm9keSgpIHtcbiAgICBpZiAodGhpcy52ZXJiICE9PSAnUE9TVCcpIHsgcmV0dXJuICcnOyB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuYmVhcmVyVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHFzLnN0cmluZ2lmeSh0aGlzLnBhcmFtcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wYXJhbXM7XG4gICAgfVxuICB9XG5cbiAgLy8gUFJJVkFURVxuXG4gIC8qKlxuICAgKiBCdWlsZCB1cCB0aGUgY3VzdG9tIFVzZXIgQWdlbnRcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBhIHVzZXIgYWdlbnQgaW4gdGhlIGZvcm1hdCBcImxpYnJhcnkvdmVyc2lvbiBsYW5ndWFnZS92ZXJzaW9uIGFwcC92ZXJzaW9uXCJcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVzZXJBZ2VudCgpIHtcbiAgICBsZXQgdXNlckFnZW50ID0gYGFtYWRldXMtbm9kZS8ke3RoaXMuY2xpZW50VmVyc2lvbn0gbm9kZS8ke3RoaXMubGFuZ3VhZ2VWZXJzaW9ufWA7XG4gICAgaWYgKCF0aGlzLmFwcElkKSB7IHJldHVybiB1c2VyQWdlbnQ7IH1cbiAgICByZXR1cm4gYCR7dXNlckFnZW50fSAke3RoaXMuYXBwSWR9LyR7dGhpcy5hcHBWZXJzaW9ufWA7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgdGhlIGZ1bGwgcXVlcnkgcGF0aCwgY29tYmluaW5nIHRoZSBwYXRoIHdpdGggdGhlIHF1ZXJ5IHBhcmFtcyBpZiB0aGVcbiAgICogdmVyYiBpcyAnR0VUJy4gRm9yIGV4YW1wbGU6ICcvZm9vL2Jhcj9iYXo9cXV4J1xuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBwYXRoIGFuZCBwYXJhbXMgY29tYmluZWQgaW50byBvbmUgc3RyaW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVsbFF1ZXJ5UGF0aCgpIHtcbiAgICBpZiAodGhpcy52ZXJiID09PSAnUE9TVCcpIHsgcmV0dXJuIHRoaXMucGF0aDsgfVxuICAgIGVsc2UgeyByZXR1cm4gYCR7dGhpcy5wYXRofT8ke3FzLnN0cmluZ2lmeSh0aGlzLnBhcmFtcyl9YDsgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gQXV0aG9yaXphdGlvbiBoZWFkZXIgaWYgdGhlIEJlYXJlclRva2VuIGlzIHByZXNlbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFkZEF1dGhvcml6YXRpb25IZWFkZXIoKSB7XG4gICAgaWYgKCF0aGlzLmJlYXJlclRva2VuKSB7IHJldHVybjsgfVxuICAgIHRoaXMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3RoaXMuYmVhcmVyVG9rZW59YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIENvbnRlbnQtVHlwZSBoZWFkZXIgaWYgdGhlIEhUVFAgbWV0aG9kIGVxdWFscyBQT1NUXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRDb250ZW50VHlwZUhlYWRlcigpIHtcbiAgICBpZiAodGhpcy52ZXJiID09PSAnUE9TVCcgJiYgIXRoaXMuYmVhcmVyVG9rZW4pIHtcbiAgICAgIHRoaXMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi92bmQuYW1hZGV1cytqc29uJztcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICogQWRkcyBIVFRQT3ZlcnJpZGUgbWV0aG9kIGlmIGl0IGlzIHJlcXVpcmVkXG4gICpcbiAgKiAgQHByaXZhdGVcbiAgKi9cbiAgYWRkSFRUUE92ZXJyaWRlSGVhZGVyKCkge1xuICAgIGlmICh0aGlzLnZlcmIgPT09ICdQT1NUJyAmJiB0aGlzLkxpc3RIVFRQT3ZlcnJpZGUuaW5jbHVkZXModGhpcy5wYXRoKSkge1xuICAgICAgdGhpcy5oZWFkZXJzWydYLUhUVFAtTWV0aG9kLU92ZXJyaWRlJ10gPSAnR0VUJztcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlcXVlc3Q7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFvQixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLGdCQUFBQSxHQUFBO0FBQUEsU0FBQUUsUUFBQUMsQ0FBQSxzQ0FBQUQsT0FBQSx3QkFBQUUsTUFBQSx1QkFBQUEsTUFBQSxDQUFBQyxRQUFBLGFBQUFGLENBQUEsa0JBQUFBLENBQUEsZ0JBQUFBLENBQUEsV0FBQUEsQ0FBQSx5QkFBQUMsTUFBQSxJQUFBRCxDQUFBLENBQUFHLFdBQUEsS0FBQUYsTUFBQSxJQUFBRCxDQUFBLEtBQUFDLE1BQUEsQ0FBQUcsU0FBQSxxQkFBQUosQ0FBQSxLQUFBRCxPQUFBLENBQUFDLENBQUE7QUFBQSxTQUFBSyxnQkFBQUMsUUFBQSxFQUFBQyxXQUFBLFVBQUFELFFBQUEsWUFBQUMsV0FBQSxlQUFBQyxTQUFBO0FBQUEsU0FBQUMsa0JB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